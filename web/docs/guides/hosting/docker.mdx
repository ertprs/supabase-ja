---
id: docker
title: Docker
description: How to use configure and deploy Supabase.
---

Dockerは、セルフホスト型Supabaseを始めるための最も簡単な方法です。

## はじめる前に

以下のものがシステムにインストールされている必要があります。

- [Docker](https://docs.docker.com/engine/install/)とdocker-compose
- [Git](https://git-scm.com/downloads)

## クイックスタート

### コードの取得

Supabaseのリポジトリーにあるdockerディレクトリをチェックアウトします。

```sh
# Get the code
git clone --depth 1 https://github.com/supabase/supabase

# Go to the docker folder
cd supabase/docker

# Copy the fake env vars
cp .env.example .env

# Start
docker-compose up
```

それでは、[http://localhost:3000](http://localhost:3000)にアクセスして、Supabase Studioの使用を開始してください。


## セットアップをセキュアにする

ここまでの手順では、Supabaseをすぐに使えるようにするため、シックレットの扱いを簡略化しています。ここで紹介するデフォルト値を使ってSupabaseのセットアップをデプロイすることは絶対に避けてください。

以下の手順によりDockerのセットアップを保護してください。プロダクションへデプロイする際には、シークレット・マネージャーを使用することを[強く推奨](/docs/guides/hosting/overview#managing-your-secrets)します。

### APIキーの生成

`JWT_SECRET`を使って、[JWTジェネレーター](/docs/guides/hosting/overview#api-keys)を使って`anon`と`service`のAPIキーを生成します。

これらのファイルの値を置き換えます。

- `.env`: 
  - `ANON_KEY` - replace with an `anon` key
  - `SERVICE_ROLE_KEY` - replace with a `service` key
- `volumes/kong.yml`
  - `anon` - replace with an `anon` key
  - `service_role` - replace with a `service` key

### シークレットの更新

`.env`ファイルを自分のシークレットで更新してください。特に、これらは必須です。

- `POSTGRES_PASSWORD`: the password for the `postgres` role. 
- `JWT_SECRET`: used by PostgREST and GoTrue, among others.
- `SITE_URL`: the base URL of your site.
- `SMTP_*`: mail server credentials. You can use any SMTP server.

## 構成

設定をシンプルにするため、本番環境においては最適ではない選択をしました。

- データベースは、サーバーと同じマシンにある
- ストレージはS3ではなくファイルシステムバックエンドを使用

デプロイする前にデータベースをデカップリングすることを強く[お勧めし](/docs/guides/hosting/overview#managing-your-database)ます。それぞれのシステムは、特定のユースケースに合わせて[構成する](/docs/guides/hosting/overview#configuration)ことができます。

## デプロイ方法

以下のガイドを参照して、お好みのツールやプラットフォームを使用してDocker Composeセットアップをデプロイしてください。

- [Docker Swarm](https://docs.docker.com/engine/swarm/stack-deploy/)
- [AWS Fargate](https://aws.amazon.com/blogs/containers/deploy-applications-on-amazon-ecs-using-docker-compose/)
- [Kompose for Kubernetes（KubernetesのためのKompose](https://kubernetes.io/docs/tasks/configure-pod-container/translate-compose-kubernetes/)


## 次のステップ

- 質問がありますか。[ここで質問して](https://github.com/supabase/supabase/discussions)ください
- サインイン：[app.supabase.io](https://app.supabase.io)
