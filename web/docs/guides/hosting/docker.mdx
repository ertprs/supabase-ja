---
id: docker
title: Docker
description: How to use configure and deploy Supabase.
---

Dockerは、セルフホスト型Supabaseを始めるための最も簡単な方法です。

## はじめる前に

以下のものがシステムにインストールされている必要があります。

- [Docker](https://docs.docker.com/engine/install/)とdocker-compose
- [Git](https://git-scm.com/downloads)

## はじめに

### コードの取得

Supabaseのリポジトリーにあるdockerディレクトリをチェックアウトします。

```sh
git clone --depth 1 https://github.com/supabase/supabase
cd supabase/docker
```

### 秘密の管理

`.env.example`を`.env`にコピーして、値を入力します。

```sh
cp .env.example .env
```

特に、これらは必須です。

- `POSTGRES_PASSWORD`：`postgres`ロールのパスワード
- `JWT_SECRET`: PostgRESTやGoTrueなどで使用されます
- `SITE_URL`：あなたのサイトのベースURL
- `SMTP_*：`メールサーバーの認証情報

### APIキーの生成

JWT`_SECRET`を使って、[JWTジェネレーター](/docs/guides/hosting/overview#api-keys)を使って`アノン`と`サービスの`APIキーを生成します。

これらのファイルの値を置き換えます。

- `docker-compose.yml`:
  - `ANON_KEY`-`アノン・キー`に置き換えます。
  - `SERVICE_KEY`-`サービス`キーに置き換える。
- `ボリューム/kong.yml`
  - `anon`-`アノン・キー`に置き換えます。
  - `service_role`-`サービス`キーに置き換えます。

### 開始

これでSupabaseを起動できます。

```sh
docker-compose up
```

データベースは`volume/db/data`に、ストレージオブジェクトは`volume/storage`に保存されます。

`supabase/examples`にあるサンプルを試して、正しく動作するか確認してください。


## 構成

設定をシンプルにするため、本番環境においては最適ではない選択をしました。

- データベースは、サーバーと同じマシンにある
- ストレージはS3ではなくファイルシステムバックエンドを使用

デプロイする前にデータベースをデカップリングすることを強く[お勧めし](/docs/guides/hosting/overview#managing-your-database)ます。それぞれのシステムは、特定のユースケースに合わせて[構成する](/docs/guides/hosting/overview#configuration)ことができます。

## デプロイ方法

以下のガイドを参照して、お好みのツールやプラットフォームを使用してDocker Composeセットアップをデプロイしてください。

- [Docker Swarm](https://docs.docker.com/engine/swarm/stack-deploy/)
- [AWS Fargate](https://aws.amazon.com/blogs/containers/deploy-applications-on-amazon-ecs-using-docker-compose/)
- [Kompose for Kubernetes（KubernetesのためのKompose](https://kubernetes.io/docs/tasks/configure-pod-container/translate-compose-kubernetes/)


## 次のステップ

- 質問がありますか。[ここで質問して](https://github.com/supabase/supabase/discussions)ください
- サインイン：[app.supabase.io](https://app.supabase.io)
