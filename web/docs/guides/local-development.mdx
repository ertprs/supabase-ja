---
id: local-development
title: ローカル開発環境
description: How to use Supabase on your local development machine.
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

SupabaseはCLIを提供しているので、実際のプロジェクトに接続するのではなく、ローカルでアプリケーションを開発できます。

## 前提条件

お使いの環境に以下のものが必要です。

<<<<<<< HEAD
=======
You will need to have these in your environment:

>>>>>>> 77932bfc2d890a633bf78cdf35bd89cc1a8de957
- Git
- Docker（デーモンが起動していることを確認してください）
- Supabase CLI（手順は[こちら](https://github.com/supabase/cli)を参照）

## プロジェクトの初期化

```bash
supabase init
```

このコマンドを実行すると、ローカルでプロジェクトを開発するためのすべての設定を保持する`supabase`フォルダーが作成されます。

## 開始

```bash
supabase start
```

このコマンドはDocker Composeを使用して、Supabaseのすべてのオープンソースな[サービス](/docs/#how-it-works)を開始します。このコマンドは、ビルドするサービスが多いため、実行に時間がかかります。

このコマンドが実行されると、ローカルのSupabaseの認証情報を含む出力が表示されます。

```txt
Started local development setup.
API URL: http://localhost:54321
DB URL: postgresql://postgres:postgres@localhost:5432/postgres
anon key: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiJ9.ZopqoUt20nEV9cklpv9e3yw3PVyZLmKs5qLD6nGL1SI
service_role key: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoic2VydmljZV9yb2xlIn0.M2d2z4SFn5C7HlJlaSLfrzuYim9nbY_XI40uWFN3hEE
```

<<<<<<< HEAD
#### サービスに直接アクセスする
=======
#### Accessing Services Directly
>>>>>>> 77932bfc2d890a633bf78cdf35bd89cc1a8de957

<Tabs
defaultValue="Postgres"
values={[
  {label: 'Postgres', value: 'Postgres'},
  {label: 'API Gateway', value: 'Kong'},
]}>
<TabItem value="Postgres">

```sh
# デフォルトURL:
postgresql://postgres:postgres@localhost:5432/postgres
```

<<<<<<< HEAD
ローカルのPostgresインスタンスは、[`psql`](https://www.postgresql.org/docs/current/app-psql.html)や、[pgadmin](https://www.pgadmin.org/)などのPostgresクライアントからアクセスできます。
=======
The local Postgres instance can be accessed through [`psql`](https://www.postgresql.org/docs/current/app-psql.html)
or any other Postgres client, such as [pgadmin](https://www.pgadmin.org/).
>>>>>>> 77932bfc2d890a633bf78cdf35bd89cc1a8de957

例えば、以下のようになります。

```bash
psql 'postgresql://postgres:postgres@localhost:5432/postgres'
```

</TabItem>
<TabItem value="Kong">

```sh
# Default URL:
http://localhost:54321
```

<<<<<<< HEAD
すべてのサービスは、APIゲートウェイの[Kong](https://github.com/Kong/kong)を経由してアクセス可能です。
クライアント・ライブラリーを使用せず、これらのサービスにアクセスする際、`Authorization`ヘッダーとしてクライアント・キーを渡す必要のある場合があります。
これらのJWTヘッダーの詳細については、こちらの[リソース](/docs/learn/auth-deep-dive/auth-deep-dive-jwts)を参照してください。
=======
All of the services are accessible through the API Gateway [Kong](https://github.com/Kong/kong)).
If you are accessing these services without the client libraries, you may need to pass the client keys as an `Authorization` header.
You can learn more about these JWT headers in our [Resources](/docs/learn/auth-deep-dive/auth-deep-dive-jwts).
>>>>>>> 77932bfc2d890a633bf78cdf35bd89cc1a8de957

```sh
curl 'http://localhost:54321/rest/v1/' \
    -H "apikey: SUPABASE_KEY" \
    -H "Authorization: Bearer SUPABASE_KEY"

http://localhost:54321/v1/rest/v1/           # REST (PostgREST)
http://localhost:54321/v1/realtime/v1/       # Realtime
http://localhost:54321/v1/storage/v1/        # Storage
http://localhost:54321/v1/auth/v1/           # Auth (GoTrue)
```

</TabItem>
</Tabs>

<<<<<<< HEAD
## アプリケーション例

Supabaseをローカルにインストールして起動する方法を学んだところで、フロントエンドのアプリケーションで使用する方法を見ていきましょう。
このクイックスタート・ガイドでは、Supabaseスタックを使用するReactアプリケーションをどのように構成するかを説明します。
=======
## Example application

Now that we've learned how to install and start Supabase locally, let's see how you can use it with a frontend application.
This quick-start guide will show you, how you can configure a React app which uses the Supabase stack.
>>>>>>> 77932bfc2d890a633bf78cdf35bd89cc1a8de957

```bash
# 新しいReactアプリを作成
npx create-react-app react-demo --use-npm

# 作成したフォルダーに移動
cd react-demo

<<<<<<< HEAD
# Supabaseをセットアップ
=======
# set up Supabase
>>>>>>> 77932bfc2d890a633bf78cdf35bd89cc1a8de957
supabase init

# supabase-jsライブラリーをインストールして保存
npm install --save @supabase/supabase-js
```

アプリケーションの準備ができたら、バックエンドを起動します。

```bash
supabase start  # Supabaseを起動
```

Supabaseは、アプリケーションのどこでも使用できます。以下のスニペットを`App.js`にコピーしてください。

```js
import { createClient } from '@supabase/supabase-js'

const SUPABASE_URL = '<your API URL>'
const SUPABASE_ANON_KEY = '<your anon key>'

const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY)
```

次に、別の端末でフロントエンドを起動します。

```bash
npm start       # Reactアプリを起動
```

問題がなければ、`http://localhost:3000`上でReactアプリが動作し、`http://localhost:54321`上でSupabaseサービスが動作しているはずです。

## 終了

Supabaseを使い終わったら、`Ctrl-C`を押してDockerサービスを停止します。

## マイグレーション

<<<<<<< HEAD
CLIを使ってマイグレーションを管理できます。[こちらの](https://github.com/supabase/cli/tree/main/examples/tour)ツアーに沿って始めてみましょう。
=======
You can also use the CLI to manage your migrations. Follow the tour [here](https://github.com/supabase/cli/tree/main/examples/tour) to get started.
>>>>>>> 77932bfc2d890a633bf78cdf35bd89cc1a8de957

## 次のステップ

- 何か疑問があれば、[ここで質問](https://github.com/supabase/supabase/discussions)してください
- CLIのリポジトリ：[GitHub](https://github.com/supabase/cli)
- サインイン：[app.supabase.io](https://app.supabase.io)
